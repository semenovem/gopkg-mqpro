### imbmq provider   

Обертка над github.com/ibm-messaging/mq-golang

#### что может:
- поддерживать одновременную работу с любом кол-во очередей  
- отправлять сообщения `mq.Put(ctx, msg)` 
- получать очередное сообщение `mq.Get(ctx, msg)` 
- получать сообщение по `CorrelId` `mq.Get(ctx, msg)` 
- просматривать сообщения `mq.Browse(ctx)`
- подписаться на сообщения `mq.RegisterEvenInMsg(func)`

TODO - добавить примеры использования



#### Создание / подключение
```
// ctx - контекст приложения (context.Context)  
var mq = mqpro.New(ctx)

// Установить данные для подключения к менеждерам MQ
// например, если использовать стандартные env переменные - методом 
mq.UseDefEnv()

TODO - добавить метод для добавления данных подключения


// Подключение
// вернет ошибку только если не указанны данные для подключения
// если в данный момент менеджер ibm mq не доступен - будет повторять попытки подключения
// вернет `nil` после установки соединения с одним из менеджеров в каждой группе (get/put/browse)
// запускать нужно в отдельной горутине, что бы не ждать 
// 
// если при создании `mqpro.New(ctx)` был передан контекст, который при завершении работы приложения
// будет закрыт cancel() - метод закрытия соединения с IMB MQ `mq.Disconnect()` 
// будет вызван автоматически
// в противном случае в `func main` нужно добавить вызов `defer mq.Disconnect()` 
err := mq.Connect()

```



#### Стандартные названия переменных окружени для настройки
```
ENV_MQ_0_HOST=mq0
ENV_MQ_0_PORT=1414

# Имя менеджера IBM MQ
ENV_MQ_0_MGR=QM1

# Имя канала
ENV_MQ_0_CHANNEL=DEV.APP.SVRCONN

# Названия очередей. Указывайте только те, что есть
ENV_MQ_0_PUT_QUEUE=DEV.QUEUE.1
ENV_MQ_0_GET_QUEUE=DEV.QUEUE.2
ENV_MQ_0_BROWSE_QUEUE=DEV.QUEUE.3

# Название приложения - не обязательное поле
ENV_MQ_0_APP=afsc.adapter

# Имя пользователя / пароль (может не использововаться, если так настроена очередь)
ENV_MQ_0_USER=app
ENV_MQ_0_PASS=11111111
```
